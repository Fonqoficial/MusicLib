---
import type { Composer } from '@/lib/types';

interface Props {
  composer: Composer;
}

const { composer } = Astro.props;

const lifespan = composer.birth_year && composer.death_year 
  ? `${composer.birth_year} - ${composer.death_year}`
  : composer.birth_year 
    ? `${composer.birth_year} - presente`
    : 'Fechas desconocidas';
---

<article class="card group hover:scale-[1.02] transition-transform duration-200">
  <a href={`/compositores/${composer.id}`} class="block">
    
    <!-- Avatar -->
    <div class="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-3xl font-bold">
      {composer.name.split(' ').map(n => n[0]).join('').slice(0, 2)}
    </div>

    <!-- Contenido -->
    <div class="text-center space-y-2">
      <h3 class="text-xl font-semibold text-gray-900 group-hover:text-primary-600 transition-colors">
        {composer.name}
      </h3>
      
      {composer.nationality && (
        <p class="text-sm text-gray-600">
          {composer.nationality}
        </p>
      )}
      
      <p class="text-xs text-gray-500">
        {lifespan}
      </p>

      {composer.bio && (
        <p class="text-sm text-gray-700 line-clamp-3 mt-3">
          {composer.bio}
        </p>
      )}
    </div>
  </a>
</article>